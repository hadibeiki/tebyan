{% load static %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>استخراج اطلاعات مسجد </title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static "plugins/fontawesome-free/css/all.min.css" %}">
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="{% static "plugins/sweetalert2/sweetalert2.min.css" %}">
    <!-- Toastr -->
    <link rel="stylesheet" href="{% static "plugins/toastr/toastr.min.css" %}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static "main.css" %}">
    <link rel="stylesheet" href="{% static "dist/css/adminlte.min.css" %}">

</head>
<body class="hold-transition sidebar-mini">
<div style="direction: rtl" class="container-fluid">
    <div class="card card-primary card-outline">
        <div class="card-body">
            <section class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-12">
                            <h1 style="float: right" class="title3">اطلاعات مربوط به مسجد {{ request.user.mosque.name }} </h1>
{#                            <a href="{% url "reqporturl" request.user.id %}">#}
{#                                <button style="width: 20%;float: left" type="button" class="btn btn-block bg-gradient-danger btn-lg">اطلاعات آماری</button>#}
{#                            </a>#}
                        </div>
                    </div>
                </div><!-- /.container-fluid -->
            </section>
            <div class="row">
                <div class="col-5 col-sm-3">
                    <div class="nav flex-column nav-tabs h-100" id="vert-tabs-tab" role="tablist" aria-orientation="vertical">
{#                        <a class="nav-link active" id="vert-tabs-home-tab" data-toggle="pill" href="#vert-tabs-home" role="tab" aria-controls="vert-tabs-home" aria-selected="true">اطلاعات ثبت نامی مسجد شما</a>#}
{#                        <a class="nav-link" id="vert-tabs-settings-tab" data-toggle="pill" href="#vert-tabs-settings" role="tab" aria-controls="vert-tabs-settings" aria-selected="false">اضافه کردن گالری به مسجد</a>#}
                        <a class="nav-link" id="vert-tabs-profile-tab" data-toggle="pill" href="#vert-tabs-profile" role="tab" aria-controls="vert-tabs-profile" aria-selected="false">استخراج اطلاعات افراد</a>
{#                        <a class="nav-link" id="vert-tabs-messages-tab" data-toggle="pill" href="#vert-tabs-messages" role="tab" aria-controls="vert-tabs-messages" aria-selected="false">استخراج اطلاعات مساجد</a>#}
                    </div>
                </div>
                <div class="col-7 col-sm-9">
                    <div class="tab-content" id="vert-tabs-tabContent">
{#                        <div class="tab-pane text-left fade show active" id="vert-tabs-home" role="tabpanel" aria-labelledby="vert-tabs-home-tab">#}
{#                            <form method="post" action="{% url 'alldata' request.user.id %}" >#}
{#                                {%csrf_token %}#}
{#                                {% crispy mosqueform %}#}
{#                            </form>#}
{#                        </div>#}
                        <div class="tab-pane fade" id="vert-tabs-profile" role="tabpanel" aria-labelledby="vert-tabs-profile-tab">
                            <div class="card">
                                <div class="card-header">
                                    <h3 style="float: right" class="card-title title3">کل اطلاعات ثبت نام کنندگان {{ request.user.city.name }} </h3>
                                </div>
                                <!-- /.card-header -->
                                <div style="overflow: scroll" class="card-body">
                                    <table id="example1" class="table table-bordered table-striped">
                                        <thead>
                                        <tr>
                                            <th>تایید</th>
                                            <th>نام</th>
                                            <th>نام خانوادگی</th>
                                            <th>کدملی</th>
                                            <th>موبایل</th>
                                            <th>پدر</th>
                                            <th>سن</th>
                                            <th>تحصیلات</th>
                                            <th>وضعیت ازدواج</th>
                                            <th>مسجد</th>
                                            <th>وضعیت پرداخت</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for item in eatekaf %}
                                            <tr>
                                                <td> <a style="color: blue; cursor: pointer" onclick="if(confirm('آیا مطمئن هستید؟')) deletmachineid({{ item.contact.melicode }})">تایید</a></td>
                                                <td>{{ item.contact.name }}</td>
                                                <td>{{ item.contact.family }}</td>
                                                <td>{{ item.contact.melicode }}</td>
                                                <td>{{ item.contact.mobile }}</td>
                                                <td>{{ item.contact.dad }}</td>
                                                <td>{{ item.contact.age }}</td>
                                                <td>{{ item.contact.education.name }}</td>
                                                <td>{{ item.contact.marital }}</td>
                                                <td>{{ item.mosque.name }}</td>
                                                <td>{{ item.payment }}</td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <th>تایید</th>
                                            <th>نام</th>
                                            <th>نام خانوادگی</th>
                                            <th>کدملی</th>
                                            <th>موبایل</th>
                                            <th>پدر</th>
                                            <th>سن</th>
                                            <th>تحصیلات</th>
                                            <th>وضعیت ازدواج</th>
                                            <th>مسجد</th>
                                            <th>وضعیت پرداخت</th>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                                <!-- /.card-body -->
                            </div>
                        </div>
{#                        <div class="tab-pane fade" id="vert-tabs-messages" role="tabpanel" aria-labelledby="vert-tabs-messages-tab">#}
{#                            <div class="card">#}
{#                                <div class="card-header">#}
{#                                    <h3 style="float: right" class="card-title title3">کل اطلاعات مساجد {{ request.user.city.name }}</h3>#}
{#                                </div>#}
{#                                <!-- /.card-header -->#}
{#                                <div class="card-body">#}
{#                                    <table id="example2" class="table table-bordered table-striped">#}
{#                                        <thead>#}
{#                                        <tr>#}
{#                                            <th>نام</th>#}
{#                                            <th>جنسیت</th>#}
{#                                            <th>ظرفیت</th>#}
{#                                            <th>سن شروع</th>#}
{#                                            <th>سن پایان</th>#}
{#                                            <th>عرض جغرافیایی</th>#}
{#                                            <th>طول جغرافیایی</th>#}
{#                                            <th>شماره تلفن</th>#}
{#                                            <th>آدرس</th>#}
{#                                            <th>توضیحات</th>#}
{#                                        </tr>#}
{#                                        </thead>#}
{#                                        <tbody>#}
{#                                        {% for item in mosques %}#}
{#                                            <tr>#}
{#                                                <td> <a href="{% url "editMosque" item.id %}">{{ item.name }}</a></td>#}
{#                                                <td>{{ item.sex.name }}</td>#}
{#                                                <td>{{ item.velocity }}</td>#}
{#                                                <td>{{ item.startage }}</td>#}
{#                                                <td>{{ item.endage }}</td>#}
{#                                                <td>{{ item.latitude }}</td>#}
{#                                                <td>{{ item.longtude }}</td>#}
{#                                                <td>{{ item.phone }}</td>#}
{#                                                <td>{{ item.address }}</td>#}
{#                                                <td>{{ item.description }}</td>#}
{#                                            </tr>#}
{#                                        {% endfor %}#}
{#                                        </tbody>#}
{#                                        <tfoot>#}
{#                                        <tr>#}
{#                                            <th>نام</th>#}
{#                                            <th>جنسیت</th>#}
{#                                            <th>ظرفیت</th>#}
{#                                            <th>سن شروع</th>#}
{#                                            <th>سن پایان</th>#}
{#                                            <th>عرض جغرافیایی</th>#}
{#                                            <th>طول جغرافیایی</th>#}
{#                                            <th>شماره تلفن</th>#}
{#                                            <th>آدرس</th>#}
{#                                            <th>توضیحات</th>#}
{#                                        </tr>#}
{#                                        </tfoot>#}
{#                                    </table>#}
{#                                </div>#}
{#                                <!-- /.card-body -->#}
{#                            </div>#}
{#                        </div>#}
{#                        <div class="tab-pane fade" id="vert-tabs-settings" role="tabpanel" aria-labelledby="vert-tabs-settings-tab">#}
{#                            <form method="post" action="{% url 'addgalleryurl' %}" enctype="multipart/form-data">#}
{#                                {%csrf_token %}#}
{#                                {% crispy galleryform %}#}
{#                            </form>#}
{#                        </div>#}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ./wrapper -->

<!-- jQuery -->
<script src="{% static "plugins/jquery/jquery.min.js" %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static "plugins/bootstrap/js/bootstrap.bundle.min.js" %}"></script>
<!-- AdminLTE App -->
<script src="{% static "dist/js/adminlte.min.js" %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static "dist/js/demo.js" %}]"></script>
<script src="{% static "plugins/datatables/jquery.dataTables.min.js" %}"></script>
<script src="{% static "plugins/datatables-bs4/js/dataTables.bootstrap4.min.js" %}"></script>
<script src="{% static "plugins/datatables-responsive/js/dataTables.responsive.min.js" %}"></script>
<script src="{% static "plugins/datatables-responsive/js/responsive.bootstrap4.min.js" %}"></script>
<script src="{% static "plugins/datatables-buttons/js/dataTables.buttons.min.js" %}"></script>
<script src="{% static "plugins/datatables-buttons/js/buttons.bootstrap4.min.js" %}"></script>
<script src="{% static "plugins/jszip/jszip.min.js" %}"></script>
<script src="{% static "plugins/pdfmake/pdfmake.min.js" %}"></script>
<script src="{% static "plugins/pdfmake/vfs_fonts.js" %}"></script>
<script src="{% static "plugins/datatables-buttons/js/buttons.html5.min.js" %}"></script>
<script src="{% static "plugins/datatables-buttons/js/buttons.print.min.js" %}"></script>
<script src="{% static "plugins/datatables-buttons/js/buttons.colVis.min.js" %}"></script>
<!-- SweetAlert2 -->
<script src="{% static "plugins/sweetalert2/sweetalert2.min.js" %}"></script>
<!-- Toastr -->
<script src="{% static "plugins/toastr/toastr.min.js" %}"></script>
    <script>
        function deletmachineid(id){
            location.href = "{% url 'confirmcontact' 1234 %}".replace(/1234/, id.toString());
        }
    </script>
<script>
    $(function () {
        $("#example1").DataTable({
            "responsive": true, "lengthChange": false, "autoWidth": false,
            "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
        $("#example2").DataTable({
            "responsive": true, "lengthChange": false, "autoWidth": false,
            "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        }).buttons().container().appendTo('#example2_wrapper .col-md-6:eq(0)');
    });
</script>
<script>

    $(function() {
        var Toast = Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 3000
        });
        {% if messages %}
            {% for item in messages %}
                {% if item.tags == "success" %}
                    toastr.success('{{ item }}')
                {% elif item.tags == "error" %}
                    toastr.error('{{ item }}')
                {% endif %}
            {% endfor %}
        {% endif %}
    });
    $(function() {
        var Toast = Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 3000
        });

        $('.swalDefaultSuccess').click(function() {
            Toast.fire({
                icon: 'success',
                title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.swalDefaultInfo').click(function() {
            Toast.fire({
                icon: 'info',
                title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.swalDefaultError').click(function() {
            Toast.fire({
                icon: 'error',
                title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.swalDefaultWarning').click(function() {
            Toast.fire({
                icon: 'warning',
                title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.swalDefaultQuestion').click(function() {
            Toast.fire({
                icon: 'question',
                title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });

        $('.toastrDefaultSuccess').click(function() {
            toastr.success('Lorem ipsum dolor sit amet, consetetur sadipscing elitr.')
        });
        $('.toastrDefaultInfo').click(function() {
            toastr.info('Lorem ipsum dolor sit amet, consetetur sadipscing elitr.')
        });
        $('.toastrDefaultError').click(function() {
            toastr.error('Lorem ipsum dolor sit amet, consetetur sadipscing elitr.')
        });
        $('.toastrDefaultWarning').click(function() {
            toastr.warning('Lorem ipsum dolor sit amet, consetetur sadipscing elitr.')
        });

        $('.toastsDefaultDefault').click(function() {
            $(document).Toasts('create', {
                title: 'Toast Title',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultTopLeft').click(function() {
            $(document).Toasts('create', {
                title: 'Toast Title',
                position: 'topLeft',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultBottomRight').click(function() {
            $(document).Toasts('create', {
                title: 'Toast Title',
                position: 'bottomRight',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultBottomLeft').click(function() {
            $(document).Toasts('create', {
                title: 'Toast Title',
                position: 'bottomLeft',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultAutohide').click(function() {
            $(document).Toasts('create', {
                title: 'Toast Title',
                autohide: true,
                delay: 750,
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultNotFixed').click(function() {
            $(document).Toasts('create', {
                title: 'Toast Title',
                fixed: false,
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultFull').click(function() {
            $(document).Toasts('create', {
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.',
                title: 'Toast Title',
                subtitle: 'Subtitle',
                icon: 'fas fa-envelope fa-lg',
            })
        });
        $('.toastsDefaultFullImage').click(function() {
            $(document).Toasts('create', {
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.',
                title: 'Toast Title',
                subtitle: 'Subtitle',
                image: '../../dist/img/user3-128x128.jpg',
                imageAlt: 'User Picture',
            })
        });
        $('.toastsDefaultSuccess').click(function() {
            $(document).Toasts('create', {
                class: 'bg-success',
                title: 'Toast Title',
                subtitle: 'Subtitle',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultInfo').click(function() {
            $(document).Toasts('create', {
                class: 'bg-info',
                title: 'Toast Title',
                subtitle: 'Subtitle',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultWarning').click(function() {
            $(document).Toasts('create', {
                class: 'bg-warning',
                title: 'Toast Title',
                subtitle: 'Subtitle',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultDanger').click(function() {
            $(document).Toasts('create', {
                class: 'bg-danger',
                title: 'Toast Title',
                subtitle: 'Subtitle',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
        $('.toastsDefaultMaroon').click(function() {
            $(document).Toasts('create', {
                class: 'bg-maroon',
                title: 'Toast Title',
                subtitle: 'Subtitle',
                body: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
            })
        });
    });
</script>
</body>
</html>
